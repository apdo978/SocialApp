<div class="card  my-4">
  <div class="card-header d-flex align-items-center border-bottom p-3">
    <img src="assets/default-avatar.png" alt="User avatar" 
         class="rounded-circle me-3" style="width: 40px; height: 40px;">
    <h5 class="card-title mb-0">Create Post</h5>
<!-- <h1>{{postForm.value | json}}</h1> -->
  </div>

  <div class="card-body">
    <form [formGroup]="postForm" (ngSubmit)="onSubmit()">
        <mat-button-toggle-group
        class="mb-3 w-100"
    name="privacy"
    formControlName="privacy"
    aria-label="Privacy Setting"
    [hideSingleSelectionIndicator]="hideSingleSelectionIndicator()"
  >
    <mat-button-toggle value="public" class="w-100">Public</mat-button-toggle>
    <mat-button-toggle value="private" class="w-100">Private</mat-button-toggle>
    <mat-button-toggle value="friends" class="w-100">Friends</mat-button-toggle>

  </mat-button-toggle-group>
      <div class="form-group">
        <textarea class="form-control border-0" 
                  formControlName="content"
                  placeholder="What's on your mind?"
                  rows="4">
        </textarea>
      </div>

      <!-- Media Preview -->
      <div class="position-relative my-3" *ngIf="selectedImage">
        <div class="media-preview-container">
          <img [src]="imagePreview" alt="Selected image preview" 
               class="img-fluid rounded shadow-sm">
          <div class="media-overlay">
            <button type="button" 
                    class="btn btn-danger btn-sm"
                    (click)="removeImage()">
              <i class="bi bi-trash"></i> Remove
            </button>
          </div>
        </div>
      </div>

      <hr class="my-3">

      <!-- Action Buttons -->
      <div class="d-flex justify-content-between align-items-center">
        <div class="d-flex gap-2">
          <button type="button" class="btn btn-light" (click)="fileInput.click()">
            <i class="bi bi-image me-2"></i>
            Photo/Video
          </button>
          <input #fileInput type="file" 
                 class="d-none" 
                 accept="image/*,video/*"
                 (change)="onFileSelected($event)">

          <button type="button" class="btn btn-light">
            <i class="bi bi-emoji-smile me-2"></i>
            Feeling/Activity
          </button>
        </div>

        <button type="submit" 
                class="btn btn-primary"
                [disabled]="!postForm.valid">
          <i class="bi bi-send me-2"></i>
          Post
        </button>
      </div>
    </form>
  </div>
</div>
